<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wt: Wt::Auth::AuthService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wt
   &#160;<span id="projectnumber">4.3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceWt.html">Wt</a></li><li class="navelem"><a class="el" href="namespaceWt_1_1Auth.html">Auth</a></li><li class="navelem"><a class="el" href="classWt_1_1Auth_1_1AuthService.html">AuthService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classWt_1_1Auth_1_1AuthService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Wt::Auth::AuthService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Basic authentication service.  
 <a href="classWt_1_1Auth_1_1AuthService.html#details">More...</a></p>

<p><code>#include &lt;Wt/Auth/AuthService.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9e2bcf05b58e1b2b9282b04f731cc2a1"><td class="memItemLeft" align="right" valign="top"><a id="a9e2bcf05b58e1b2b9282b04f731cc2a1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a9e2bcf05b58e1b2b9282b04f731cc2a1">AuthService</a> ()</td></tr>
<tr class="memdesc:a9e2bcf05b58e1b2b9282b04f731cc2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:a9e2bcf05b58e1b2b9282b04f731cc2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b10517b459b948bdcbc2f99a710231"><td class="memItemLeft" align="right" valign="top"><a id="a89b10517b459b948bdcbc2f99a710231"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a89b10517b459b948bdcbc2f99a710231">~AuthService</a> ()</td></tr>
<tr class="memdesc:a89b10517b459b948bdcbc2f99a710231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a89b10517b459b948bdcbc2f99a710231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53b495589aeb0618125faccddbce891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aa53b495589aeb0618125faccddbce891">setRandomTokenLength</a> (int length)</td></tr>
<tr class="memdesc:aa53b495589aeb0618125faccddbce891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the token length.  <a href="#aa53b495589aeb0618125faccddbce891">More...</a><br /></td></tr>
<tr class="separator:aa53b495589aeb0618125faccddbce891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73bd9b3c7c057494be3a04f9bcbd72b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a73bd9b3c7c057494be3a04f9bcbd72b6">randomTokenLength</a> () const</td></tr>
<tr class="memdesc:a73bd9b3c7c057494be3a04f9bcbd72b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the token length.  <a href="#a73bd9b3c7c057494be3a04f9bcbd72b6">More...</a><br /></td></tr>
<tr class="separator:a73bd9b3c7c057494be3a04f9bcbd72b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb84d11c1dbc0c335b406ca9d3e3572"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aefb84d11c1dbc0c335b406ca9d3e3572">setIdentityPolicy</a> (<a class="el" href="namespaceWt_1_1Auth.html#a8ce12bbc04d68d5687f08abf2a209436">IdentityPolicy</a> policy)</td></tr>
<tr class="memdesc:aefb84d11c1dbc0c335b406ca9d3e3572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the identity policy.  <a href="#aefb84d11c1dbc0c335b406ca9d3e3572">More...</a><br /></td></tr>
<tr class="separator:aefb84d11c1dbc0c335b406ca9d3e3572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8b9eeb457aba6acb8e8fb5ce42bdf4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceWt_1_1Auth.html#a8ce12bbc04d68d5687f08abf2a209436">IdentityPolicy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#abd8b9eeb457aba6acb8e8fb5ce42bdf4">identityPolicy</a> () const</td></tr>
<tr class="memdesc:abd8b9eeb457aba6acb8e8fb5ce42bdf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the identity policy.  <a href="#abd8b9eeb457aba6acb8e8fb5ce42bdf4">More...</a><br /></td></tr>
<tr class="separator:abd8b9eeb457aba6acb8e8fb5ce42bdf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b263569c71ec9e14871976348cc1971"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classWt_1_1Auth_1_1User.html">User</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a6b263569c71ec9e14871976348cc1971">identifyUser</a> (const <a class="el" href="classWt_1_1Auth_1_1Identity.html">Identity</a> &amp;identity, <a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;users) const</td></tr>
<tr class="memdesc:a6b263569c71ec9e14871976348cc1971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to match the identity to an existing user.  <a href="#a6b263569c71ec9e14871976348cc1971">More...</a><br /></td></tr>
<tr class="separator:a6b263569c71ec9e14871976348cc1971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Authentication token support</div></td></tr>
<tr class="memitem:adf5b811cbedec93de7d4b97950565af3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#adf5b811cbedec93de7d4b97950565af3">setAuthTokensEnabled</a> (bool enabled, const std::string &amp;cookieName=&quot;wtauth&quot;, const std::string &amp;cookieDomain=std::string())</td></tr>
<tr class="memdesc:adf5b811cbedec93de7d4b97950565af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures authentication token support.  <a href="#adf5b811cbedec93de7d4b97950565af3">More...</a><br /></td></tr>
<tr class="separator:adf5b811cbedec93de7d4b97950565af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcb5dbd78c66ca4e88ba34d8bc595af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a4fcb5dbd78c66ca4e88ba34d8bc595af">authTokensEnabled</a> () const</td></tr>
<tr class="memdesc:a4fcb5dbd78c66ca4e88ba34d8bc595af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether authentication tokens are enabled.  <a href="#a4fcb5dbd78c66ca4e88ba34d8bc595af">More...</a><br /></td></tr>
<tr class="separator:a4fcb5dbd78c66ca4e88ba34d8bc595af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee229af97b12975d00e7448e486f9cb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aee229af97b12975d00e7448e486f9cb2">setAuthTokenUpdateEnabled</a> (bool enabled)</td></tr>
<tr class="memdesc:aee229af97b12975d00e7448e486f9cb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether <a class="el" href="classWt_1_1Auth_1_1AuthService.html#afa24e731e80bedc299d2560efbcb0c34" title="Processes an authentication token.">processAuthToken()</a> updates the auth token.  <a href="#aee229af97b12975d00e7448e486f9cb2">More...</a><br /></td></tr>
<tr class="separator:aee229af97b12975d00e7448e486f9cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0904b340b82c111a78aadf43e4fa89"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a6b0904b340b82c111a78aadf43e4fa89">authTokenUpdateEnabled</a> () const</td></tr>
<tr class="memdesc:a6b0904b340b82c111a78aadf43e4fa89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the auth token is updated.  <a href="#a6b0904b340b82c111a78aadf43e4fa89">More...</a><br /></td></tr>
<tr class="separator:a6b0904b340b82c111a78aadf43e4fa89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14681ebd1a116357762b577f9b770149"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a14681ebd1a116357762b577f9b770149">authTokenCookieName</a> () const</td></tr>
<tr class="memdesc:a14681ebd1a116357762b577f9b770149"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the authentication token cookie name.  <a href="#a14681ebd1a116357762b577f9b770149">More...</a><br /></td></tr>
<tr class="separator:a14681ebd1a116357762b577f9b770149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c3fa6b8f0ebdd58263f1ca23ef722f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a38c3fa6b8f0ebdd58263f1ca23ef722f">authTokenCookieDomain</a> () const</td></tr>
<tr class="memdesc:a38c3fa6b8f0ebdd58263f1ca23ef722f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the authentication token cookie domain.  <a href="#a38c3fa6b8f0ebdd58263f1ca23ef722f">More...</a><br /></td></tr>
<tr class="separator:a38c3fa6b8f0ebdd58263f1ca23ef722f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87578d5b56f0ad4d3c768d4dbe43ef38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a87578d5b56f0ad4d3c768d4dbe43ef38">setTokenHashFunction</a> (std::unique_ptr&lt; <a class="el" href="classWt_1_1Auth_1_1HashFunction.html">HashFunction</a> &gt; function)</td></tr>
<tr class="memdesc:a87578d5b56f0ad4d3c768d4dbe43ef38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the token hash function.  <a href="#a87578d5b56f0ad4d3c768d4dbe43ef38">More...</a><br /></td></tr>
<tr class="separator:a87578d5b56f0ad4d3c768d4dbe43ef38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53087d1e393c96a50cc9eb8fa71a4ba1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Auth_1_1HashFunction.html">HashFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a53087d1e393c96a50cc9eb8fa71a4ba1">tokenHashFunction</a> () const</td></tr>
<tr class="memdesc:a53087d1e393c96a50cc9eb8fa71a4ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the token hash function.  <a href="#a53087d1e393c96a50cc9eb8fa71a4ba1">More...</a><br /></td></tr>
<tr class="separator:a53087d1e393c96a50cc9eb8fa71a4ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac794d5e37386427d4923982c3c5fa468"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#ac794d5e37386427d4923982c3c5fa468">createAuthToken</a> (const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;user) const</td></tr>
<tr class="memdesc:ac794d5e37386427d4923982c3c5fa468"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and stores an authentication token for the user.  <a href="#ac794d5e37386427d4923982c3c5fa468">More...</a><br /></td></tr>
<tr class="separator:ac794d5e37386427d4923982c3c5fa468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa24e731e80bedc299d2560efbcb0c34"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classWt_1_1Auth_1_1AuthTokenResult.html">AuthTokenResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#afa24e731e80bedc299d2560efbcb0c34">processAuthToken</a> (const std::string &amp;token, <a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;users) const</td></tr>
<tr class="memdesc:afa24e731e80bedc299d2560efbcb0c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes an authentication token.  <a href="#afa24e731e80bedc299d2560efbcb0c34">More...</a><br /></td></tr>
<tr class="separator:afa24e731e80bedc299d2560efbcb0c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c56267c8588a58affe3d6ed66edeb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a53c56267c8588a58affe3d6ed66edeb6">setAuthTokenValidity</a> (int minutes)</td></tr>
<tr class="memdesc:a53c56267c8588a58affe3d6ed66edeb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the duration for an authenticaton to remain valid.  <a href="#a53c56267c8588a58affe3d6ed66edeb6">More...</a><br /></td></tr>
<tr class="separator:a53c56267c8588a58affe3d6ed66edeb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba63e9762d76c6db4f54673a3535b4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#acba63e9762d76c6db4f54673a3535b4b">authTokenValidity</a> () const</td></tr>
<tr class="memdesc:acba63e9762d76c6db4f54673a3535b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the authentication token validity.  <a href="#acba63e9762d76c6db4f54673a3535b4b">More...</a><br /></td></tr>
<tr class="separator:acba63e9762d76c6db4f54673a3535b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Email verification</div></td></tr>
<tr class="memitem:a545208b47b73bc8f4d736753fd967eec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a545208b47b73bc8f4d736753fd967eec">setEmailVerificationEnabled</a> (bool enabled)</td></tr>
<tr class="memdesc:a545208b47b73bc8f4d736753fd967eec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures email verification.  <a href="#a545208b47b73bc8f4d736753fd967eec">More...</a><br /></td></tr>
<tr class="separator:a545208b47b73bc8f4d736753fd967eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe67d8a15464f55ed91d380376e114bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#abe67d8a15464f55ed91d380376e114bb">emailVerificationEnabled</a> () const</td></tr>
<tr class="memdesc:abe67d8a15464f55ed91d380376e114bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether email verification is configured.  <a href="#abe67d8a15464f55ed91d380376e114bb">More...</a><br /></td></tr>
<tr class="separator:abe67d8a15464f55ed91d380376e114bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dcdb5d4a23e22389823c55aee91cbc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a2dcdb5d4a23e22389823c55aee91cbc4">setEmailVerificationRequired</a> (bool enabled)</td></tr>
<tr class="memdesc:a2dcdb5d4a23e22389823c55aee91cbc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure email verificiation to be required for login.  <a href="#a2dcdb5d4a23e22389823c55aee91cbc4">More...</a><br /></td></tr>
<tr class="separator:a2dcdb5d4a23e22389823c55aee91cbc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6250ffb2a3eb06e7783961861a3d89d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a6250ffb2a3eb06e7783961861a3d89d7">emailVerificationRequired</a> () const</td></tr>
<tr class="separator:a6250ffb2a3eb06e7783961861a3d89d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ce625114817d88f32b041473e5cfcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#ac1ce625114817d88f32b041473e5cfcf">setEmailRedirectInternalPath</a> (const std::string &amp;internalPath)</td></tr>
<tr class="memdesc:ac1ce625114817d88f32b041473e5cfcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the internal path used to present tokens in emails.  <a href="#ac1ce625114817d88f32b041473e5cfcf">More...</a><br /></td></tr>
<tr class="separator:ac1ce625114817d88f32b041473e5cfcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f811133e4b2d4dc71d150a0ccd450c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a94f811133e4b2d4dc71d150a0ccd450c">emailRedirectInternalPath</a> () const</td></tr>
<tr class="memdesc:a94f811133e4b2d4dc71d150a0ccd450c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the internal path used for email tokens.  <a href="#a94f811133e4b2d4dc71d150a0ccd450c">More...</a><br /></td></tr>
<tr class="separator:a94f811133e4b2d4dc71d150a0ccd450c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a093ea3e42da38660214cf60ff4caa7"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a5a093ea3e42da38660214cf60ff4caa7">parseEmailToken</a> (const std::string &amp;internalPath) const</td></tr>
<tr class="memdesc:a5a093ea3e42da38660214cf60ff4caa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the emailtoken from an internal path.  <a href="#a5a093ea3e42da38660214cf60ff4caa7">More...</a><br /></td></tr>
<tr class="separator:a5a093ea3e42da38660214cf60ff4caa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c557a27ab51108055de4ff1bf92f14"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a69c557a27ab51108055de4ff1bf92f14">verifyEmailAddress</a> (const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;user, const std::string &amp;emailAddress) const</td></tr>
<tr class="memdesc:a69c557a27ab51108055de4ff1bf92f14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies an email address.  <a href="#a69c557a27ab51108055de4ff1bf92f14">More...</a><br /></td></tr>
<tr class="separator:a69c557a27ab51108055de4ff1bf92f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d9e43cfbf657c4781f15466d222abc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#ac6d9e43cfbf657c4781f15466d222abc">lostPassword</a> (const std::string &amp;emailAddress, <a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;users) const</td></tr>
<tr class="memdesc:ac6d9e43cfbf657c4781f15466d222abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements lost password functionality.  <a href="#ac6d9e43cfbf657c4781f15466d222abc">More...</a><br /></td></tr>
<tr class="separator:ac6d9e43cfbf657c4781f15466d222abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3e02441e619e9adc64588fe7a7536c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classWt_1_1Auth_1_1EmailTokenResult.html">EmailTokenResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a7b3e02441e619e9adc64588fe7a7536c">processEmailToken</a> (const std::string &amp;token, <a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;users) const</td></tr>
<tr class="memdesc:a7b3e02441e619e9adc64588fe7a7536c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes an email token.  <a href="#a7b3e02441e619e9adc64588fe7a7536c">More...</a><br /></td></tr>
<tr class="separator:a7b3e02441e619e9adc64588fe7a7536c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad184b5136649e3af107dab3153eb9374"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#ad184b5136649e3af107dab3153eb9374">setEmailTokenValidity</a> (int minutes)</td></tr>
<tr class="memdesc:ad184b5136649e3af107dab3153eb9374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the duration for an email token to remain valid.  <a href="#ad184b5136649e3af107dab3153eb9374">More...</a><br /></td></tr>
<tr class="separator:ad184b5136649e3af107dab3153eb9374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c17b53e96796e64ab687a329ce4e875"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a3c17b53e96796e64ab687a329ce4e875">emailTokenValidity</a> () const</td></tr>
<tr class="memdesc:a3c17b53e96796e64ab687a329ce4e875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the duration for an email token to remain valid.  <a href="#a3c17b53e96796e64ab687a329ce4e875">More...</a><br /></td></tr>
<tr class="separator:a3c17b53e96796e64ab687a329ce4e875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ab10ccd63ff7b547ccfba484f87e05"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a07ab10ccd63ff7b547ccfba484f87e05">sendMail</a> (const <a class="el" href="classWt_1_1Mail_1_1Message.html">Mail::Message</a> &amp;message) const</td></tr>
<tr class="memdesc:a07ab10ccd63ff7b547ccfba484f87e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an email.  <a href="#a07ab10ccd63ff7b547ccfba484f87e05">More...</a><br /></td></tr>
<tr class="separator:a07ab10ccd63ff7b547ccfba484f87e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa2749268a5e27a6bf7fe4aef915bf352"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aa2749268a5e27a6bf7fe4aef915bf352">sendConfirmMail</a> (const std::string &amp;address, const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;user, const std::string &amp;token) const</td></tr>
<tr class="memdesc:aa2749268a5e27a6bf7fe4aef915bf352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a confirmation email to the user to verify his email address.  <a href="#aa2749268a5e27a6bf7fe4aef915bf352">More...</a><br /></td></tr>
<tr class="separator:aa2749268a5e27a6bf7fe4aef915bf352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d25d6495203c7a629dd5425b2b93a6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a25d25d6495203c7a629dd5425b2b93a6">sendLostPasswordMail</a> (const std::string &amp;address, const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;user, const std::string &amp;token) const</td></tr>
<tr class="memdesc:a25d25d6495203c7a629dd5425b2b93a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an email to the user to enter a new password.  <a href="#a25d25d6495203c7a629dd5425b2b93a6">More...</a><br /></td></tr>
<tr class="separator:a25d25d6495203c7a629dd5425b2b93a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Basic authentication service. </p>
<p>This class presents an basic authentication service, which offers authentication functionality that is not specific to an authentication mechanism (such as password authentication or OAuth authentication).</p>
<p>Like all <b>service classes</b>, this class holds only configuration state. Thus, once configured, it can be safely shared between multiple sessions since its state (the configuration) is read-only. A "const AuthService" object is thus thread-safe.</p>
<p>The class provides the following services (and relevant configuration):</p>
<ul>
<li>settings for generating random tokens:<ul>
<li><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aa53b495589aeb0618125faccddbce891" title="Sets the token length.">setRandomTokenLength()</a></li>
</ul>
</li>
<li>authentication tokens, used by e.g. remember-me functionality:<ul>
<li><a class="el" href="classWt_1_1Auth_1_1AuthService.html#adf5b811cbedec93de7d4b97950565af3" title="Configures authentication token support.">setAuthTokensEnabled()</a></li>
<li><a class="el" href="classWt_1_1Auth_1_1AuthService.html#afa24e731e80bedc299d2560efbcb0c34" title="Processes an authentication token.">processAuthToken()</a></li>
</ul>
</li>
<li>email tokens, for email verification and lost password functions:<ul>
<li><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a545208b47b73bc8f4d736753fd967eec" title="Configures email verification.">setEmailVerificationEnabled()</a></li>
<li><a class="el" href="classWt_1_1Auth_1_1AuthService.html#ac6d9e43cfbf657c4781f15466d222abc" title="Implements lost password functionality.">lostPassword()</a></li>
<li><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a69c557a27ab51108055de4ff1bf92f14" title="Verifies an email address.">verifyEmailAddress()</a></li>
<li><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a7b3e02441e619e9adc64588fe7a7536c" title="Processes an email token.">processEmailToken()</a> </li>
</ul>
</li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a38c3fa6b8f0ebdd58263f1ca23ef722f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c3fa6b8f0ebdd58263f1ca23ef722f">&#9670;&nbsp;</a></span>authTokenCookieDomain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Wt::Auth::AuthService::authTokenCookieDomain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the authentication token cookie domain. </p>
<p>This is the domain used for the authentication cookie. By default this is empty, which means that a cookie will be set for this application.</p>
<p>You may want to set a more general domain if you are sharing the authentication with multiple applications.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#adf5b811cbedec93de7d4b97950565af3" title="Configures authentication token support.">setAuthTokensEnabled()</a> </dd></dl>

</div>
</div>
<a id="a14681ebd1a116357762b577f9b770149"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14681ebd1a116357762b577f9b770149">&#9670;&nbsp;</a></span>authTokenCookieName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Wt::Auth::AuthService::authTokenCookieName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the authentication token cookie name. </p>
<p>This is the default cookie name used for storing the authentication token in the user's browser.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#adf5b811cbedec93de7d4b97950565af3" title="Configures authentication token support.">setAuthTokensEnabled()</a> </dd></dl>

</div>
</div>
<a id="a4fcb5dbd78c66ca4e88ba34d8bc595af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fcb5dbd78c66ca4e88ba34d8bc595af">&#9670;&nbsp;</a></span>authTokensEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::Auth::AuthService::authTokensEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether authentication tokens are enabled. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#adf5b811cbedec93de7d4b97950565af3" title="Configures authentication token support.">setAuthTokensEnabled()</a> </dd></dl>

</div>
</div>
<a id="a6b0904b340b82c111a78aadf43e4fa89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b0904b340b82c111a78aadf43e4fa89">&#9670;&nbsp;</a></span>authTokenUpdateEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::Auth::AuthService::authTokenUpdateEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the auth token is updated. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aee229af97b12975d00e7448e486f9cb2" title="Set whether processAuthToken() updates the auth token.">setAuthTokenUpdateEnabled()</a> </dd></dl>

</div>
</div>
<a id="acba63e9762d76c6db4f54673a3535b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba63e9762d76c6db4f54673a3535b4b">&#9670;&nbsp;</a></span>authTokenValidity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Wt::Auth::AuthService::authTokenValidity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the authentication token validity. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a53c56267c8588a58affe3d6ed66edeb6" title="Configures the duration for an authenticaton to remain valid.">setAuthTokenValidity()</a> </dd></dl>

</div>
</div>
<a id="ac794d5e37386427d4923982c3c5fa468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac794d5e37386427d4923982c3c5fa468">&#9670;&nbsp;</a></span>createAuthToken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Wt::Auth::AuthService::createAuthToken </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and stores an authentication token for the user. </p>
<p>This creates and stores a new authentication token for the given user.</p>
<p>The returned value is the token that may be used to re-identify the user in <a class="el" href="classWt_1_1Auth_1_1AuthService.html#afa24e731e80bedc299d2560efbcb0c34" title="Processes an authentication token.">processAuthToken()</a>. </p>

</div>
</div>
<a id="a94f811133e4b2d4dc71d150a0ccd450c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f811133e4b2d4dc71d150a0ccd450c">&#9670;&nbsp;</a></span>emailRedirectInternalPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Wt::Auth::AuthService::emailRedirectInternalPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the internal path used for email tokens. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#ac1ce625114817d88f32b041473e5cfcf" title="Sets the internal path used to present tokens in emails.">setEmailRedirectInternalPath()</a> </dd></dl>

</div>
</div>
<a id="a3c17b53e96796e64ab687a329ce4e875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c17b53e96796e64ab687a329ce4e875">&#9670;&nbsp;</a></span>emailTokenValidity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Wt::Auth::AuthService::emailTokenValidity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the duration for an email token to remain valid. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#ad184b5136649e3af107dab3153eb9374" title="Configures the duration for an email token to remain valid.">setEmailTokenValidity()</a> </dd></dl>

</div>
</div>
<a id="abe67d8a15464f55ed91d380376e114bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe67d8a15464f55ed91d380376e114bb">&#9670;&nbsp;</a></span>emailVerificationEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::Auth::AuthService::emailVerificationEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether email verification is configured. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a545208b47b73bc8f4d736753fd967eec" title="Configures email verification.">setEmailVerificationEnabled()</a> </dd></dl>

</div>
</div>
<a id="a6250ffb2a3eb06e7783961861a3d89d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6250ffb2a3eb06e7783961861a3d89d7">&#9670;&nbsp;</a></span>emailVerificationRequired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Wt::Auth::AuthService::emailVerificationRequired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>\ Returns whether email verification is required for login.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a2dcdb5d4a23e22389823c55aee91cbc4" title="Configure email verificiation to be required for login.">setEmailVerificationRequired()</a> </dd></dl>

</div>
</div>
<a id="a6b263569c71ec9e14871976348cc1971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b263569c71ec9e14871976348cc1971">&#9670;&nbsp;</a></span>identifyUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> Wt::Auth::AuthService::identifyUser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classWt_1_1Auth_1_1Identity.html">Identity</a> &amp;&#160;</td>
          <td class="paramname"><em>identity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>users</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tries to match the identity to an existing user. </p>
<p>When authenticating using a 3rd party <a class="el" href="classWt_1_1Auth_1_1Identity.html" title="A class that represents a user identity.">Identity</a> Provider, the identity is matched against the existing users, based on the id (with <a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html#ad86157a5d896af38825d9575fa8f8eae" title="Finds a user with a given identity.">AbstractUserDatabase::findWithIdentity()</a>), or if not matched, based on whether there is a user with the same verified email address as the one indicated by the identity. </p>

</div>
</div>
<a id="abd8b9eeb457aba6acb8e8fb5ce42bdf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8b9eeb457aba6acb8e8fb5ce42bdf4">&#9670;&nbsp;</a></span>identityPolicy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceWt_1_1Auth.html#a8ce12bbc04d68d5687f08abf2a209436">IdentityPolicy</a> Wt::Auth::AuthService::identityPolicy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the identity policy. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aefb84d11c1dbc0c335b406ca9d3e3572" title="Configures the identity policy.">setIdentityPolicy()</a> </dd></dl>

</div>
</div>
<a id="ac6d9e43cfbf657c4781f15466d222abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d9e43cfbf657c4781f15466d222abc">&#9670;&nbsp;</a></span>lostPassword()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Wt::Auth::AuthService::lostPassword </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>emailAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>users</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements lost password functionality. </p>
<p>If email address verification is enabled, then a user may recover his password (or rather, chose a new password) using a procedure which involves sending an email to a verified email address.</p>
<p>This method triggers this process, starting from an email address, if this email address corresponds to a verified email address in the database. The current password is not invalidated.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a7b3e02441e619e9adc64588fe7a7536c" title="Processes an email token.">processEmailToken()</a> </dd></dl>

</div>
</div>
<a id="a5a093ea3e42da38660214cf60ff4caa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a093ea3e42da38660214cf60ff4caa7">&#9670;&nbsp;</a></span>parseEmailToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string Wt::Auth::AuthService::parseEmailToken </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>internalPath</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the emailtoken from an internal path. </p>
<p>This method parses an internal path and if it matches the email redirection path, it returns the token contained.</p>
<p>It returns an empty string if the internal path does not contain an email token. </p>

</div>
</div>
<a id="afa24e731e80bedc299d2560efbcb0c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa24e731e80bedc299d2560efbcb0c34">&#9670;&nbsp;</a></span>processAuthToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classWt_1_1Auth_1_1AuthTokenResult.html">AuthTokenResult</a> Wt::Auth::AuthService::processAuthToken </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>users</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes an authentication token. </p>
<p>This verifies an authentication token, and considers whether it matches with a token hash value stored in database. If it matches and auth token update is enabled, the token is updated with a new hash.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aee229af97b12975d00e7448e486f9cb2" title="Set whether processAuthToken() updates the auth token.">setAuthTokenUpdateEnabled()</a> </dd>
<dd>
<a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html#ac5b9a6ffc139ad83d5648b9aeecae4ce" title="Updates the authentication token with a new hash.">AbstractUserDatabase::updateAuthToken()</a> </dd></dl>

</div>
</div>
<a id="a7b3e02441e619e9adc64588fe7a7536c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3e02441e619e9adc64588fe7a7536c">&#9670;&nbsp;</a></span>processEmailToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classWt_1_1Auth_1_1EmailTokenResult.html">EmailTokenResult</a> Wt::Auth::AuthService::processEmailToken </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html">AbstractUserDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>users</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes an email token. </p>
<p>This processes a token received through an email. If it is an email verification token, the token is removed from the database.</p>
<p>This may return two successful results:</p><ul>
<li><a class="el" href="namespaceWt_1_1Auth.html#a1f693bf075f6b95a12af48a8896ee949a8e3780e7013a5ae9a7a9a42f8a7cec32" title="A The token was presented which verifies the email address.">EmailTokenState::EmailConfirmed</a>: a token was presented which proves that the user is tied to the email address.</li>
<li><a class="el" href="namespaceWt_1_1Auth.html#a1f693bf075f6b95a12af48a8896ee949adc4acdfcdf7610ed96c0ae9107f5b6ac" title="A token was presented which requires the user to enter a new password.">EmailTokenState::UpdatePassword</a>: a token was presented which requires the user to enter a new password.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Since <a class="el" href="namespaceWt.html" title="The namespace for Wt.">Wt</a> 4.3.0, the behavior of this function changed. The lost password token is no longer removed by <a class="el" href="classWt_1_1Auth_1_1AuthService.html#a7b3e02441e619e9adc64588fe7a7536c" title="Processes an email token.">processEmailToken()</a>. Instead, it is now removed in <a class="el" href="classWt_1_1Auth_1_1User.html#a7ba540783ef86d9f756d812939138e25" title="Sets a password.">User::setPassword()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a69c557a27ab51108055de4ff1bf92f14" title="Verifies an email address.">verifyEmailAddress()</a> </dd>
<dd>
<a class="el" href="classWt_1_1Auth_1_1AuthService.html#ac6d9e43cfbf657c4781f15466d222abc" title="Implements lost password functionality.">lostPassword()</a> </dd></dl>

</div>
</div>
<a id="a73bd9b3c7c057494be3a04f9bcbd72b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73bd9b3c7c057494be3a04f9bcbd72b6">&#9670;&nbsp;</a></span>randomTokenLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Wt::Auth::AuthService::randomTokenLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the token length. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#aa53b495589aeb0618125faccddbce891" title="Sets the token length.">setRandomTokenLength()</a> </dd></dl>

</div>
</div>
<a id="aa2749268a5e27a6bf7fe4aef915bf352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2749268a5e27a6bf7fe4aef915bf352">&#9670;&nbsp;</a></span>sendConfirmMail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Wt::Auth::AuthService::sendConfirmMail </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a confirmation email to the user to verify his email address. </p>
<p>Sends a confirmation email to the given address.</p>
<p>The email content is provided by the following string keys:</p><ul>
<li>subject: tr("Wt.auth.verification-mail.subject")</li>
<li>body: tr("Wt.auth.verification-mail.body") with {1} a place holder for the identity, and {2} a placeholder for the redirection URL.</li>
<li>HTML body: tr("Wt.auth.verification-mail.htmlbody") with the same place holders. </li>
</ul>

</div>
</div>
<a id="a25d25d6495203c7a629dd5425b2b93a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d25d6495203c7a629dd5425b2b93a6">&#9670;&nbsp;</a></span>sendLostPasswordMail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Wt::Auth::AuthService::sendLostPasswordMail </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends an email to the user to enter a new password. </p>
<p>This sends a lost password email to the given <code>address</code>, with a given <code>token</code>.</p>
<p>The default implementation will call <a class="el" href="classWt_1_1Auth_1_1AuthService.html#a07ab10ccd63ff7b547ccfba484f87e05" title="Sends an email.">sendMail()</a> with the following message:</p><ul>
<li>tr("Wt.Auth.lost-password-mail.subject") as subject,</li>
<li>tr("Wt.Auth.lost-password-mail.body") as body to which it passes user.identity() and token as arguments.</li>
<li>tr("Wt.Auth.lost-password-mail.htmlbody") as HTML body to which it passes user.identity() and token as arguments. </li>
</ul>

</div>
</div>
<a id="a07ab10ccd63ff7b547ccfba484f87e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ab10ccd63ff7b547ccfba484f87e05">&#9670;&nbsp;</a></span>sendMail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Wt::Auth::AuthService::sendMail </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classWt_1_1Mail_1_1Message.html">Mail::Message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends an email. </p>
<p>Sends an email to the given address with subject and body.</p>
<p>The default implementation will consult configuration properties to add a sender address if it hasn't already been set:</p><ul>
<li>"auth-mail-sender-name": the sender name, with default value "Wt Auth module"</li>
<li>"auth-mail-sender-address": the sender email address, with default value "noreply-auth@www.webtoolkit.eu"</li>
</ul>
<p>Then it uses <a class="el" href="classWt_1_1Mail_1_1Client.html" title="An SMTP mail client.">Mail::Client</a> to send the message, using default the default client settings. </p>

</div>
</div>
<a id="adf5b811cbedec93de7d4b97950565af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf5b811cbedec93de7d4b97950565af3">&#9670;&nbsp;</a></span>setAuthTokensEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setAuthTokensEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cookieName</em> = <code>&quot;wtauth&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cookieDomain</em> = <code>std::string()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures authentication token support. </p>
<p>This method allows you to configure whether authentication tokens are in use. Authentication tokens are used for the user to bypass a more elaborate authentication method, and are a secret shared with the user's user agent, usually in a cookie. They are typically presented in the user interfaces as a "remember me" option.</p>
<p>Whenever a valid authentication token is presented in processToken(), it is invalidated a new token is generated and stored for the user.</p>
<p>The tokens are generated and subsequently hashed using the token hash function. Only the hash values are stored in the user database so that a compromised user database does not compromise these tokens.</p>
<p>Authentication tokens are disabled by default.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a87578d5b56f0ad4d3c768d4dbe43ef38" title="Sets the token hash function.">setTokenHashFunction()</a>, <a class="el" href="classWt_1_1Auth_1_1AuthService.html#a53c56267c8588a58affe3d6ed66edeb6" title="Configures the duration for an authenticaton to remain valid.">setAuthTokenValidity()</a> </dd></dl>

</div>
</div>
<a id="aee229af97b12975d00e7448e486f9cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee229af97b12975d00e7448e486f9cb2">&#9670;&nbsp;</a></span>setAuthTokenUpdateEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setAuthTokenUpdateEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether <a class="el" href="classWt_1_1Auth_1_1AuthService.html#afa24e731e80bedc299d2560efbcb0c34" title="Processes an authentication token.">processAuthToken()</a> updates the auth token. </p>
<p>If this option is enabled, <a class="el" href="classWt_1_1Auth_1_1AuthService.html#afa24e731e80bedc299d2560efbcb0c34" title="Processes an authentication token.">processAuthToken()</a> will replace the auth token with a new token. This is a bit more secure, because an auth token can only be used once. This is enabled by default.</p>
<p>However, this means that if a user concurrently opens multiple sessions within the same browsers (e.g. multiple tabs being restored at the same time) or refreshes before they receive the new cookie, the user will be logged out, unless the <a class="el" href="classWt_1_1Auth_1_1AbstractUserDatabase.html" title="Abstract interface for an authentication user database.">AbstractUserDatabase</a> implementation takes this into account (e.g. keeps the old token valid for a little bit longer)</p>
<p>The default <a class="el" href="namespaceWt_1_1Dbo.html" title="Namespace for the Database Objects (Wt::Dbo).">Dbo</a> UserDatabase does not handle concurrent token updates well, so disable this option if you want to prevent that issue.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#afa24e731e80bedc299d2560efbcb0c34" title="Processes an authentication token.">processAuthToken()</a> </dd>
<dd>
<a class="el" href="classWt_1_1Auth_1_1AuthService.html#a6b0904b340b82c111a78aadf43e4fa89" title="Returns whether the auth token is updated.">authTokenUpdateEnabled()</a> </dd></dl>

</div>
</div>
<a id="a53c56267c8588a58affe3d6ed66edeb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c56267c8588a58affe3d6ed66edeb6">&#9670;&nbsp;</a></span>setAuthTokenValidity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setAuthTokenValidity </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minutes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the duration for an authenticaton to remain valid. </p>
<p>The default duration is two weeks (14 * 24 * 60 minutes). </p>

</div>
</div>
<a id="ac1ce625114817d88f32b041473e5cfcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ce625114817d88f32b041473e5cfcf">&#9670;&nbsp;</a></span>setEmailRedirectInternalPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setEmailRedirectInternalPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>internalPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the internal path used to present tokens in emails. </p>
<p>The default path is "/auth/mail/". </p>

</div>
</div>
<a id="ad184b5136649e3af107dab3153eb9374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad184b5136649e3af107dab3153eb9374">&#9670;&nbsp;</a></span>setEmailTokenValidity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setEmailTokenValidity </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minutes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the duration for an email token to remain valid. </p>
<p>The default duration is three days (3 * 24 * 60 minutes). Three is a divine number. </p>

</div>
</div>
<a id="a545208b47b73bc8f4d736753fd967eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545208b47b73bc8f4d736753fd967eec">&#9670;&nbsp;</a></span>setEmailVerificationEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setEmailVerificationEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures email verification. </p>
<p>Email verification is useful for a user to recover a lost password, or to be able to confidently confirm other events with this user (such as order processing). </p>

</div>
</div>
<a id="a2dcdb5d4a23e22389823c55aee91cbc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dcdb5d4a23e22389823c55aee91cbc4">&#9670;&nbsp;</a></span>setEmailVerificationRequired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setEmailVerificationRequired </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure email verificiation to be required for login. </p>
<p>When enabled, a user will not be able to login if the email-address was not verified. </p>

</div>
</div>
<a id="aefb84d11c1dbc0c335b406ca9d3e3572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefb84d11c1dbc0c335b406ca9d3e3572">&#9670;&nbsp;</a></span>setIdentityPolicy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setIdentityPolicy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceWt_1_1Auth.html#a8ce12bbc04d68d5687f08abf2a209436">IdentityPolicy</a>&#160;</td>
          <td class="paramname"><em>policy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the identity policy. </p>
<p>The identity policy has an impact on the login and registration procedure. </p>

</div>
</div>
<a id="aa53b495589aeb0618125faccddbce891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa53b495589aeb0618125faccddbce891">&#9670;&nbsp;</a></span>setRandomTokenLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setRandomTokenLength </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the token length. </p>
<p>Configures the length used for random tokens. Random tokens are generated for authentication tokens, and email tokens.</p>
<p>The default length is 32 characters.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1WRandom.html#a6cb7dbd1eed02edf15cc514d811700a5" title="A utility method to generate a random id.">WRandom::generateId()</a> </dd></dl>

</div>
</div>
<a id="a87578d5b56f0ad4d3c768d4dbe43ef38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87578d5b56f0ad4d3c768d4dbe43ef38">&#9670;&nbsp;</a></span>setTokenHashFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Auth::AuthService::setTokenHashFunction </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classWt_1_1Auth_1_1HashFunction.html">HashFunction</a> &gt;&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the token hash function. </p>
<p>Sets the hash function used to safely store authentication tokens in the database. Ownership of the hash function is transferred.</p>
<p>The default token hash function is an <a class="el" href="classWt_1_1Auth_1_1MD5HashFunction.html" title="A cryptograhpic hash function implemented using MD5.">MD5HashFunction</a>. </p>

</div>
</div>
<a id="a53087d1e393c96a50cc9eb8fa71a4ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53087d1e393c96a50cc9eb8fa71a4ba1">&#9670;&nbsp;</a></span>tokenHashFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Auth_1_1HashFunction.html">HashFunction</a>* Wt::Auth::AuthService::tokenHashFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the token hash function. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a87578d5b56f0ad4d3c768d4dbe43ef38" title="Sets the token hash function.">setTokenHashFunction()</a> </dd></dl>

</div>
</div>
<a id="a69c557a27ab51108055de4ff1bf92f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69c557a27ab51108055de4ff1bf92f14">&#9670;&nbsp;</a></span>verifyEmailAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Wt::Auth::AuthService::verifyEmailAddress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classWt_1_1Auth_1_1User.html">User</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>emailAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verifies an email address. </p>
<p>This registers a new email token with the user.</p>
<p>Then it sends an email to the user's unverified email address with instructions that redirect him to this site, using sendConfirmEmail().</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Auth_1_1AuthService.html#a7b3e02441e619e9adc64588fe7a7536c" title="Processes an email token.">processEmailToken()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><address style="text-align: right; margin: 3px"><small>
Generated on Wed Apr 22 2020 for <a href="http://www.webtoolkit.eu/wt">the
C++ Web Toolkit (Wt)</a> by&nbsp;<a
href="http://www.doxygen.org/index.html"><img src="doxygen.png"
alt="doxygen" border="0" style="vertical-align: middle; display:
inline-block; height: 2em"></a> 1.8.15</small></address>
</body>
</html>
