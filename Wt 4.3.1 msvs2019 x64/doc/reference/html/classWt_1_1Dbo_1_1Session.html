<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wt: Wt::Dbo::Session Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wt
   &#160;<span id="projectnumber">4.3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceWt.html">Wt</a></li><li class="navelem"><a class="el" href="namespaceWt_1_1Dbo.html">Dbo</a></li><li class="navelem"><a class="el" href="classWt_1_1Dbo_1_1Session.html">Session</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classWt_1_1Dbo_1_1Session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Wt::Dbo::Session Class Reference<div class="ingroups"><a class="el" href="group__dbo.html">Database Objects (Wt::Dbo)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A database session.  
 <a href="classWt_1_1Dbo_1_1Session.html#details">More...</a></p>

<p><code>#include &lt;Wt/Dbo/Session.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a55c41a33e862729b80837347da199b20"><td class="memItemLeft" align="right" valign="top"><a id="a55c41a33e862729b80837347da199b20"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a55c41a33e862729b80837347da199b20">Session</a> ()</td></tr>
<tr class="memdesc:a55c41a33e862729b80837347da199b20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a database session. <br /></td></tr>
<tr class="separator:a55c41a33e862729b80837347da199b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4822eb0294094d17f623d1d58c8bc7e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#ac4822eb0294094d17f623d1d58c8bc7e">~Session</a> ()</td></tr>
<tr class="memdesc:ac4822eb0294094d17f623d1d58c8bc7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ac4822eb0294094d17f623d1d58c8bc7e">More...</a><br /></td></tr>
<tr class="separator:ac4822eb0294094d17f623d1d58c8bc7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd45189db138506e6e7c202e39878f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#acfd45189db138506e6e7c202e39878f9">setConnection</a> (std::unique_ptr&lt; <a class="el" href="classWt_1_1Dbo_1_1SqlConnection.html">SqlConnection</a> &gt; connection)</td></tr>
<tr class="memdesc:acfd45189db138506e6e7c202e39878f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a dedicated connection.  <a href="#acfd45189db138506e6e7c202e39878f9">More...</a><br /></td></tr>
<tr class="separator:acfd45189db138506e6e7c202e39878f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ab17e16c9b721c94e6e9f67c5c255d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a63ab17e16c9b721c94e6e9f67c5c255d">setConnectionPool</a> (<a class="el" href="classWt_1_1Dbo_1_1SqlConnectionPool.html">SqlConnectionPool</a> &amp;pool)</td></tr>
<tr class="memdesc:a63ab17e16c9b721c94e6e9f67c5c255d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a connection pool.  <a href="#a63ab17e16c9b721c94e6e9f67c5c255d">More...</a><br /></td></tr>
<tr class="separator:a63ab17e16c9b721c94e6e9f67c5c255d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b4750b2665de1381b1fedec7020c75"><td class="memTemplParams" colspan="2">template&lt;class C &gt; </td></tr>
<tr class="memitem:a22b4750b2665de1381b1fedec7020c75"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a22b4750b2665de1381b1fedec7020c75">mapClass</a> (const char *<a class="el" href="classWt_1_1Dbo_1_1Session.html#af058582055c6fb7bbf4738fde3238b0b">tableName</a>)</td></tr>
<tr class="memdesc:a22b4750b2665de1381b1fedec7020c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps a class to a database table.  <a href="#a22b4750b2665de1381b1fedec7020c75">More...</a><br /></td></tr>
<tr class="separator:a22b4750b2665de1381b1fedec7020c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af058582055c6fb7bbf4738fde3238b0b"><td class="memTemplParams" colspan="2">template&lt;class C &gt; </td></tr>
<tr class="memitem:af058582055c6fb7bbf4738fde3238b0b"><td class="memTemplItemLeft" align="right" valign="top">const char *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#af058582055c6fb7bbf4738fde3238b0b">tableName</a> () const</td></tr>
<tr class="memdesc:af058582055c6fb7bbf4738fde3238b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the mapped table name for a class.  <a href="#af058582055c6fb7bbf4738fde3238b0b">More...</a><br /></td></tr>
<tr class="separator:af058582055c6fb7bbf4738fde3238b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015315a5b22718eb39662c23dc4c1cd8"><td class="memTemplParams" colspan="2">template&lt;class C &gt; </td></tr>
<tr class="memitem:a015315a5b22718eb39662c23dc4c1cd8"><td class="memTemplItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a015315a5b22718eb39662c23dc4c1cd8">tableNameQuoted</a> () const</td></tr>
<tr class="memdesc:a015315a5b22718eb39662c23dc4c1cd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the mapped quoted table name for a class.  <a href="#a015315a5b22718eb39662c23dc4c1cd8">More...</a><br /></td></tr>
<tr class="separator:a015315a5b22718eb39662c23dc4c1cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfbd5bea3a6b964e833c893434e38c8f"><td class="memTemplParams" colspan="2">template&lt;class C &gt; </td></tr>
<tr class="memitem:abfbd5bea3a6b964e833c893434e38c8f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#abfbd5bea3a6b964e833c893434e38c8f">add</a> (<a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt; &amp;<a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>)</td></tr>
<tr class="memdesc:abfbd5bea3a6b964e833c893434e38c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persists a transient object.  <a href="#abfbd5bea3a6b964e833c893434e38c8f">More...</a><br /></td></tr>
<tr class="separator:abfbd5bea3a6b964e833c893434e38c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85db24c3baa136c0233f30285b8db6ec"><td class="memTemplParams" colspan="2">template&lt;class C &gt; </td></tr>
<tr class="memitem:a85db24c3baa136c0233f30285b8db6ec"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a85db24c3baa136c0233f30285b8db6ec">add</a> (std::unique_ptr&lt; C &gt; obj)</td></tr>
<tr class="memdesc:a85db24c3baa136c0233f30285b8db6ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persists a transient object.  <a href="#a85db24c3baa136c0233f30285b8db6ec">More...</a><br /></td></tr>
<tr class="separator:a85db24c3baa136c0233f30285b8db6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672cb6a493abe71d72d4d1ecf1e6b37d"><td class="memTemplParams" colspan="2">template&lt;typename T , typename ... Args&gt; </td></tr>
<tr class="memitem:a672cb6a493abe71d72d4d1ecf1e6b37d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a672cb6a493abe71d72d4d1ecf1e6b37d">addNew</a> (Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:a672cb6a493abe71d72d4d1ecf1e6b37d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persists a transient object.  <a href="#a672cb6a493abe71d72d4d1ecf1e6b37d">More...</a><br /></td></tr>
<tr class="separator:a672cb6a493abe71d72d4d1ecf1e6b37d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4b7f2191237c16f14a3689915e164b"><td class="memTemplParams" colspan="2">template&lt;class C &gt; </td></tr>
<tr class="memitem:acb4b7f2191237c16f14a3689915e164b"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#acb4b7f2191237c16f14a3689915e164b">load</a> (const typename <a class="el" href="structWt_1_1Dbo_1_1dbo__traits.html">dbo_traits</a>&lt; C &gt;::IdType &amp;<a class="el" href="group__dbo.html#ga42c50bd3bfc38ad8c810b30b279b0ba6">id</a>, bool forceReread=false)</td></tr>
<tr class="memdesc:acb4b7f2191237c16f14a3689915e164b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a persisted object.  <a href="#acb4b7f2191237c16f14a3689915e164b">More...</a><br /></td></tr>
<tr class="separator:acb4b7f2191237c16f14a3689915e164b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b8ece442e5273dfee9b990e519b3545"><td class="memTemplParams" colspan="2">template&lt;class C &gt; </td></tr>
<tr class="memitem:a6b8ece442e5273dfee9b990e519b3545"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a6b8ece442e5273dfee9b990e519b3545">loadLazy</a> (const typename <a class="el" href="structWt_1_1Dbo_1_1dbo__traits.html">dbo_traits</a>&lt; C &gt;::IdType &amp;<a class="el" href="group__dbo.html#ga42c50bd3bfc38ad8c810b30b279b0ba6">id</a>)</td></tr>
<tr class="memdesc:a6b8ece442e5273dfee9b990e519b3545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lazy loads a persisted object.  <a href="#a6b8ece442e5273dfee9b990e519b3545">More...</a><br /></td></tr>
<tr class="separator:a6b8ece442e5273dfee9b990e519b3545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9aff98561cd85ee82a11a57e1e7a74"><td class="memTemplParams" colspan="2">template&lt;class C , typename BindStrategy  = DynamicBinding&gt; </td></tr>
<tr class="memitem:a1a9aff98561cd85ee82a11a57e1e7a74"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1Query.html">Query</a>&lt; <a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt;, BindStrategy &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a1a9aff98561cd85ee82a11a57e1e7a74">find</a> (const std::string &amp;condition=std::string())</td></tr>
<tr class="memdesc:a1a9aff98561cd85ee82a11a57e1e7a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds database objects.  <a href="#a1a9aff98561cd85ee82a11a57e1e7a74">More...</a><br /></td></tr>
<tr class="separator:a1a9aff98561cd85ee82a11a57e1e7a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cad70bef9cffd6613107d5cd3aeb16a"><td class="memTemplParams" colspan="2">template&lt;class Result , typename BindStrategy  = DynamicBinding&gt; </td></tr>
<tr class="memitem:a8cad70bef9cffd6613107d5cd3aeb16a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1Query.html">Query</a>&lt; Result, BindStrategy &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a8cad70bef9cffd6613107d5cd3aeb16a">query</a> (const std::string &amp;sql)</td></tr>
<tr class="memdesc:a8cad70bef9cffd6613107d5cd3aeb16a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a query.  <a href="#a8cad70bef9cffd6613107d5cd3aeb16a">More...</a><br /></td></tr>
<tr class="separator:a8cad70bef9cffd6613107d5cd3aeb16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b1d61b66e996eff474d677a10d5b8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWt_1_1Dbo_1_1Call.html">Call</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a42b1d61b66e996eff474d677a10d5b8f">execute</a> (const std::string &amp;sql)</td></tr>
<tr class="memdesc:a42b1d61b66e996eff474d677a10d5b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executs an Sql command.  <a href="#a42b1d61b66e996eff474d677a10d5b8f">More...</a><br /></td></tr>
<tr class="separator:a42b1d61b66e996eff474d677a10d5b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba79d84c7c91faae06f954e6d3d390ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#aba79d84c7c91faae06f954e6d3d390ab">createTables</a> ()</td></tr>
<tr class="memdesc:aba79d84c7c91faae06f954e6d3d390ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the database schema.  <a href="#aba79d84c7c91faae06f954e6d3d390ab">More...</a><br /></td></tr>
<tr class="separator:aba79d84c7c91faae06f954e6d3d390ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89c36de3c02f83e621dda5d149dd7b9b"><td class="memItemLeft" align="right" valign="top"><a id="a89c36de3c02f83e621dda5d149dd7b9b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a89c36de3c02f83e621dda5d149dd7b9b">tableCreationSql</a> ()</td></tr>
<tr class="memdesc:a89c36de3c02f83e621dda5d149dd7b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns database creation SQL. <br /></td></tr>
<tr class="separator:a89c36de3c02f83e621dda5d149dd7b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c1fedb21e4e1cc44b182a34e8ebb4ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a4c1fedb21e4e1cc44b182a34e8ebb4ef">dropTables</a> ()</td></tr>
<tr class="memdesc:a4c1fedb21e4e1cc44b182a34e8ebb4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops the database schema.  <a href="#a4c1fedb21e4e1cc44b182a34e8ebb4ef">More...</a><br /></td></tr>
<tr class="separator:a4c1fedb21e4e1cc44b182a34e8ebb4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab896d119f1e0fb79adffe2282b92ef17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#ab896d119f1e0fb79adffe2282b92ef17">flush</a> ()</td></tr>
<tr class="memdesc:ab896d119f1e0fb79adffe2282b92ef17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes the session.  <a href="#ab896d119f1e0fb79adffe2282b92ef17">More...</a><br /></td></tr>
<tr class="separator:ab896d119f1e0fb79adffe2282b92ef17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5f4d579b9841072d5e777925acd92c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#add5f4d579b9841072d5e777925acd92c">rereadAll</a> (const char *<a class="el" href="classWt_1_1Dbo_1_1Session.html#af058582055c6fb7bbf4738fde3238b0b">tableName</a>=nullptr)</td></tr>
<tr class="memdesc:add5f4d579b9841072d5e777925acd92c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rereads all objects.  <a href="#add5f4d579b9841072d5e777925acd92c">More...</a><br /></td></tr>
<tr class="separator:add5f4d579b9841072d5e777925acd92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c75a1701de8ae978e58f2d1e9cad39b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a1c75a1701de8ae978e58f2d1e9cad39b">discardUnflushed</a> ()</td></tr>
<tr class="memdesc:a1c75a1701de8ae978e58f2d1e9cad39b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discards all unflushed changes.  <a href="#a1c75a1701de8ae978e58f2d1e9cad39b">More...</a><br /></td></tr>
<tr class="separator:a1c75a1701de8ae978e58f2d1e9cad39b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc34f3a9a0b364024128cb7a8ea3587"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceWt_1_1Dbo.html#a4c7a7297140823d0c45131edc4d7c616">FlushMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#aebc34f3a9a0b364024128cb7a8ea3587">flushMode</a> ()</td></tr>
<tr class="memdesc:aebc34f3a9a0b364024128cb7a8ea3587"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the flushMode.  <a href="#aebc34f3a9a0b364024128cb7a8ea3587">More...</a><br /></td></tr>
<tr class="separator:aebc34f3a9a0b364024128cb7a8ea3587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3074ef6656f9c74409d2e8cade36d4ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWt_1_1Dbo_1_1Session.html#a3074ef6656f9c74409d2e8cade36d4ab">setFlushMode</a> (<a class="el" href="namespaceWt_1_1Dbo.html#a4c7a7297140823d0c45131edc4d7c616">FlushMode</a> mode)</td></tr>
<tr class="memdesc:a3074ef6656f9c74409d2e8cade36d4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flushMode.  <a href="#a3074ef6656f9c74409d2e8cade36d4ab">More...</a><br /></td></tr>
<tr class="separator:a3074ef6656f9c74409d2e8cade36d4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A database session. </p>
<p>A database session manages meta data about the mapping of C++ classes to database tables, and keeps track of a working set of in-memory objects (objects which are referenced from your code or from within a transaction).</p>
<p>It also manages an active transaction, which you need to access database objects.</p>
<p>You can provide the session with a dedicated database connection using <a class="el" href="classWt_1_1Dbo_1_1Session.html#acfd45189db138506e6e7c202e39878f9" title="Sets a dedicated connection.">setConnection()</a>, or with a connection pool (from which it will take a connection while processing a transaction) using <a class="el" href="classWt_1_1Dbo_1_1Session.html#a63ab17e16c9b721c94e6e9f67c5c255d" title="Sets a connection pool.">setConnectionPool()</a>.</p>
<p>A session will typically be a long-lived object in your application. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac4822eb0294094d17f623d1d58c8bc7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4822eb0294094d17f623d1d58c8bc7e">&#9670;&nbsp;</a></span>~Session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Wt::Dbo::Session::~Session </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>A session must survive all database objects that have been loaded through it, and will warning during this destructor if there are still database objects that are being referenced from a ptr. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abfbd5bea3a6b964e833c893434e38c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfbd5bea3a6b964e833c893434e38c8f">&#9670;&nbsp;</a></span>add() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt; Wt::Dbo::Session::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt; &amp;&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Persists a transient object. </p>
<p>The transient object pointed to by <code>ptr</code> is added to the session, and will be persisted when the session is flushed.</p>
<p>A transient object is usually a newly created object which want to add to the database.</p>
<p>The method returns <code>ptr</code>. </p>

</div>
</div>
<a id="a85db24c3baa136c0233f30285b8db6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85db24c3baa136c0233f30285b8db6ec">&#9670;&nbsp;</a></span>add() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt; Wt::Dbo::Session::add </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; C &gt;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Persists a transient object. </p>
<p>This is an overloaded method for convenience, and is implemented as: </p><div class="fragment"><div class="line"><span class="keywordflow">return</span> <a class="code" href="classWt_1_1Dbo_1_1Session.html#abfbd5bea3a6b964e833c893434e38c8f">add</a>(ptr&lt;C&gt;(std::move(obj)));</div></div><!-- fragment --><p>The method returns a database pointer to the object. </p>

</div>
</div>
<a id="a672cb6a493abe71d72d4d1ecf1e6b37d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672cb6a493abe71d72d4d1ecf1e6b37d">&#9670;&nbsp;</a></span>addNew()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename ... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt;T&gt; Wt::Dbo::Session::addNew </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Persists a transient object. </p>
<p>This an overloaded method for convenience, and is implemented as: </p><div class="fragment"><div class="line"><span class="keywordflow">return</span> <a class="code" href="classWt_1_1Dbo_1_1Session.html#abfbd5bea3a6b964e833c893434e38c8f">add</a>(ptr&lt;C&gt;(std::unique_ptr&lt;T&gt;(<span class="keyword">new</span> <a class="code" href="group__signalslot.html#gga34e65660d30e69c56aa636a8856aa52dab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>(...))))</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="namespaceWt_1_1Dbo.html#a4b2cf43723fe059fb4c97362d01522ed" title="Make a new ptr.">Wt::Dbo::make_ptr()</a> </dd></dl>

</div>
</div>
<a id="aba79d84c7c91faae06f954e6d3d390ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba79d84c7c91faae06f954e6d3d390ab">&#9670;&nbsp;</a></span>createTables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::createTables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the database schema. </p>
<p>This will create the database schema of the mapped tables. Schema creation will fail if one or more tables already existed. The creation of the tables is executed in a transaction that is rolled back when an error occurs.</p>
<p>This method throws an <a class="el" href="classWt_1_1Dbo_1_1Exception.html" title="Exception base class for Wt::Dbo.">Wt::Dbo::Exception</a> if the table creation failed.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#a22b4750b2665de1381b1fedec7020c75" title="Maps a class to a database table.">mapClass()</a>, <a class="el" href="classWt_1_1Dbo_1_1Session.html#a4c1fedb21e4e1cc44b182a34e8ebb4ef" title="Drops the database schema.">dropTables()</a> </dd></dl>

</div>
</div>
<a id="a1c75a1701de8ae978e58f2d1e9cad39b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c75a1701de8ae978e58f2d1e9cad39b">&#9670;&nbsp;</a></span>discardUnflushed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::discardUnflushed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discards all unflushed changes. </p>
<p>This method is useful when the <a class="el" href="classWt_1_1Dbo_1_1Session.html#aebc34f3a9a0b364024128cb7a8ea3587" title="Returns the flushMode.">flushMode()</a> is set to Manual. It discards all Dbo-objects which were added to the session and rereads all existing Dbo-objects.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#a3074ef6656f9c74409d2e8cade36d4ab" title="Sets the flushMode.">setFlushMode()</a> </dd></dl>

</div>
</div>
<a id="a4c1fedb21e4e1cc44b182a34e8ebb4ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c1fedb21e4e1cc44b182a34e8ebb4ef">&#9670;&nbsp;</a></span>dropTables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::dropTables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drops the database schema. </p>
<p>This will drop the database schema. Dropping the schema will fail if one or more tables did not exist.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#aba79d84c7c91faae06f954e6d3d390ab" title="Creates the database schema.">createTables()</a> </dd></dl>

</div>
</div>
<a id="a42b1d61b66e996eff474d677a10d5b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42b1d61b66e996eff474d677a10d5b8f">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1Call.html">Call</a> Wt::Dbo::Session::execute </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executs an Sql command. </p>
<p>This executs an Sql command. It differs from <a class="el" href="classWt_1_1Dbo_1_1Session.html#a8cad70bef9cffd6613107d5cd3aeb16a" title="Creates a query.">query()</a> in that no result is expected from the call.</p>
<p>Usage example: </p><div class="fragment"><div class="line">session.execute(<span class="stringliteral">&quot;update user set name = ? where name = ?&quot;</span>).bind(<span class="stringliteral">&quot;Bart&quot;</span>).bind(<span class="stringliteral">&quot;Sarah&quot;</span>);</div></div><!-- fragment --> 
</div>
</div>
<a id="a1a9aff98561cd85ee82a11a57e1e7a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a9aff98561cd85ee82a11a57e1e7a74">&#9670;&nbsp;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C , typename BindStrategy &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1Query.html">Query</a>&lt; <a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt;, BindStrategy &gt; Wt::Dbo::Session::find </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>condition</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds database objects. </p>
<p>This method creates a query for finding objects of type <code>C</code>.</p>
<p>When passing an empty <code>condition</code> parameter, it will return all objects of type <code>C</code>. Otherwise, it will add the condition, by generating an SQL <em>where</em> clause.</p>
<p>The <code>BindStrategy</code> specifies how you want to bind parameters to your query (if any).</p>
<p>When using <code><a class="el" href="structWt_1_1Dbo_1_1DynamicBinding.html">DynamicBinding</a></code> (which is the default), you will defer the binding until the query is run. This has the advantage that you can compose the query definition using helper methods provided in the query object, you can keep the query around and run the query multiple times, perhaps with different parameter values or to scroll through the query results.</p>
<p>When using <code><a class="el" href="structWt_1_1Dbo_1_1DirectBinding.html">DirectBinding</a></code>, the query must be specified entirely using the <code>condition</code>, and can be run only once. This method does have the benefit of binding parameters directly to the underlying prepared statement.</p>
<p>This method is convenient when you are querying only results from a single table. For more generic query support, see <a class="el" href="classWt_1_1Dbo_1_1Session.html#a8cad70bef9cffd6613107d5cd3aeb16a" title="Creates a query.">query()</a>.</p>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="comment">// Bart is missing, let&#39;s find him.</span></div><div class="line"><a class="code" href="classWt_1_1Dbo_1_1ptr.html">Wt::Dbo::ptr&lt;User&gt;</a> bart = session.find&lt;<a class="code" href="namespaceWt.html#a7b122452d0fd8ee51e1e4e88fe57e410a8f9bfe9d1345237cb3b2b205864da075">User</a>&gt;().where(<span class="stringliteral">&quot;name = ?&quot;</span>).bind(<span class="stringliteral">&quot;Bart&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// Find all users, order by name</span></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="classWt_1_1Dbo_1_1collection.html">Wt::Dbo::collection&lt; Wt::Dbo::ptr&lt;User&gt;</a> &gt; Users;</div><div class="line">Users users = session.<a class="code" href="classWt_1_1Dbo_1_1collection.html#abd04a49cd9bfff5aaf49adf16dad100e">find</a>&lt;<a class="code" href="namespaceWt.html#a7b122452d0fd8ee51e1e4e88fe57e410a8f9bfe9d1345237cb3b2b205864da075">User</a>&gt;().orderBy(<span class="stringliteral">&quot;name&quot;</span>);</div></div><!-- fragment --><p>In the <code>condition</code>, parameters can be bound using '?' as a positional placeholder: each occurence of '?' (as a lexical token) is replaced by a bound parameter. This is actually done by most of the backends themselves using prepared statements and parameter binding. Parameter binding is possible for all types for which <a class="el" href="structWt_1_1Dbo_1_1sql__value__traits.html" title="Traits class for value types.">sql_value_traits</a> is specialized.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#a8cad70bef9cffd6613107d5cd3aeb16a" title="Creates a query.">query()</a> </dd></dl>

</div>
</div>
<a id="ab896d119f1e0fb79adffe2282b92ef17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab896d119f1e0fb79adffe2282b92ef17">&#9670;&nbsp;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flushes the session. </p>
<p>This flushes all modified objects to the database. This does not commit the transaction.</p>
<p>Normally, you need not to call this method as the session is flushed automatically before committing a transaction, or before running a query (to be sure to take into account pending modifications). </p>

</div>
</div>
<a id="aebc34f3a9a0b364024128cb7a8ea3587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc34f3a9a0b364024128cb7a8ea3587">&#9670;&nbsp;</a></span>flushMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceWt_1_1Dbo.html#a4c7a7297140823d0c45131edc4d7c616">FlushMode</a> Wt::Dbo::Session::flushMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the flushMode. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#a3074ef6656f9c74409d2e8cade36d4ab" title="Sets the flushMode.">setFlushMode()</a> </dd></dl>

</div>
</div>
<a id="acb4b7f2191237c16f14a3689915e164b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4b7f2191237c16f14a3689915e164b">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt; Wt::Dbo::Session::load </td>
          <td>(</td>
          <td class="paramtype">const typename <a class="el" href="structWt_1_1Dbo_1_1dbo__traits.html">dbo_traits</a>&lt; C &gt;::IdType &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forceReread</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a persisted object. </p>
<p>This method returns a database object with the given object id. If the object was already loaded in the session, the loaded object is returned, otherwise the object is loaded from the database.</p>
<p>If <code>forceReread</code> is set to <code>true</code>, then a fresh copy is loaded from the database. This is almost equivalent to calling <a class="el" href="classWt_1_1Dbo_1_1ptr.html#abb1db71ef910748437d69bf11a04eb6e">reread()</a> on the returned object, except that it will not result in two database reads in case the object was in fact not yet loaded in the session.</p>
<p>Throws an <a class="el" href="classWt_1_1Dbo_1_1ObjectNotFoundException.html" title="Exception thrown when trying to load a non-existing object.">ObjectNotFoundException</a> when the object was not found.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1ptr.html#a7f13eaa3b68e0e26277ab8999504e326" title="Returns the object id.">ptr::id()</a>, <a class="el" href="classWt_1_1Dbo_1_1Session.html#a6b8ece442e5273dfee9b990e519b3545" title="Lazy loads a persisted object.">loadLazy()</a> </dd></dl>

</div>
</div>
<a id="a6b8ece442e5273dfee9b990e519b3545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b8ece442e5273dfee9b990e519b3545">&#9670;&nbsp;</a></span>loadLazy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1ptr.html">ptr</a>&lt; C &gt; Wt::Dbo::Session::loadLazy </td>
          <td>(</td>
          <td class="paramtype">const typename <a class="el" href="structWt_1_1Dbo_1_1dbo__traits.html">dbo_traits</a>&lt; C &gt;::IdType &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lazy loads a persisted object. </p>
<p>This method returns a database object with the given object id without directly accessing the database.</p>
<p>If the object data is already available in the session, then it will be available upon return. Otherwise, the object data will be retrieved from the database on first access. Note: This will result in an <a class="el" href="classWt_1_1Dbo_1_1ObjectNotFoundException.html" title="Exception thrown when trying to load a non-existing object.">ObjectNotFoundException</a> if the object id is not valid.</p>
<p>lazyLoad can be used to obtain a ptr&lt;C&gt; from a known id when a ptr&lt;C&gt; is required, but access to the C object is not anticipated. For instance, a ptr&lt;C&gt; may be required to add an object of class X that is in a belongsTo relationship with C.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1ptr.html#a7f13eaa3b68e0e26277ab8999504e326" title="Returns the object id.">ptr::id()</a>, <a class="el" href="classWt_1_1Dbo_1_1Session.html#acb4b7f2191237c16f14a3689915e164b" title="Loads a persisted object.">load()</a> </dd></dl>

</div>
</div>
<a id="a22b4750b2665de1381b1fedec7020c75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b4750b2665de1381b1fedec7020c75">&#9670;&nbsp;</a></span>mapClass()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::mapClass </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tableName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps a class to a database table. </p>
<p>The class <code>C</code> is mapped to table with name <code>tableName</code>. You need to map classes to tables.</p>
<p>You may provide a schema-qualified table name, if the underlying database supports this, eg. <code>"myschema.users"</code>. </p>

</div>
</div>
<a id="a8cad70bef9cffd6613107d5cd3aeb16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cad70bef9cffd6613107d5cd3aeb16a">&#9670;&nbsp;</a></span>query()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Result , typename BindStrategy &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWt_1_1Dbo_1_1Query.html">Query</a>&lt; Result, BindStrategy &gt; Wt::Dbo::Session::query </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a query. </p>
<p>The sql statement should be a complete SQL statement, starting with a "select ". The items listed in the "select" must match the <code>Result</code> type. An item that corresponds to a database object (ptr) is substituted with the selection of all the fields in the dbo.</p>
<p>For example, the following query (class User is mapped onto table 'user'): </p><div class="fragment"><div class="line">session.query&lt; ptr&lt;User&gt; &gt;(<span class="stringliteral">&quot;select u from user u&quot;</span>).where(<span class="stringliteral">&quot;u.name = ?&quot;</span>).bind(<span class="stringliteral">&quot;Bart&quot;</span>);</div></div><!-- fragment --><p> is the more general version of: </p><div class="fragment"><div class="line">session.find&lt;<a class="code" href="namespaceWt.html#a7b122452d0fd8ee51e1e4e88fe57e410a8f9bfe9d1345237cb3b2b205864da075">User</a>&gt;().where(<span class="stringliteral">&quot;name = ?&quot;</span>).bind(<span class="stringliteral">&quot;Bart&quot;</span>);</div></div><!-- fragment --><p>Note that "u" in this query will be expanded to select the fields of the user table (u.id, u.version, u.name, ...). The same expansion happens when using an alias in <a class="el" href="classWt_1_1Dbo_1_1Query.html#a07d81e1a0d504eca1b428b04f7855c3d" title="Sets the grouping field(s).">Query::groupBy()</a>.</p>
<p>The additional flexibility offered by query() over <a class="el" href="classWt_1_1Dbo_1_1Session.html#a1a9aff98561cd85ee82a11a57e1e7a74" title="Finds database objects.">find()</a> is however that it may support other result types.</p>
<p>Thus, it may return plain values: </p><div class="fragment"><div class="line">session.query&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;select count(1) from ...&quot;</span>);</div></div><!-- fragment --><p>Or std::tuple for an arbitrary combination of result values:</p>
<div class="fragment"><div class="line">session.query&lt; std::tuple&lt;int, int&gt; &gt;(<span class="stringliteral">&quot;select A.id, B.id from table_a A, table_b B&quot;</span>).where(<span class="stringliteral">&quot;...&quot;</span>);</div></div><!-- fragment --><p>A tuple may combine any kind of object that is supported as a result, including database objects (see also ptr_tuple): </p><div class="fragment"><div class="line">session.query&lt; std::tuple&lt;ptr&lt;A&gt;, ptr&lt;B&gt; &gt; &gt;(<span class="stringliteral">&quot;select A, B from table_a A, table_b B&quot;</span>).where(<span class="stringliteral">&quot;...&quot;</span>);</div></div><!-- fragment --><p>The <code>BindStrategy</code> specifies how you want to bind parameters to your query (if any).</p>
<p>When using <code><a class="el" href="structWt_1_1Dbo_1_1DynamicBinding.html">DynamicBinding</a></code> (which is the default), you will defer the binding until the query is run. This has the advantage that you can compose the query using helper methods provided in the <a class="el" href="classWt_1_1Dbo_1_1Query.html" title="A database query.">Query</a> object, you can keep the query around and run the query multiple times, perhaps with different parameter values or to scroll through the query results.</p>
<p>When using <code><a class="el" href="structWt_1_1Dbo_1_1DirectBinding.html">DirectBinding</a></code>, the query must be specified entirely using the <code>sql</code>, and can be run only once. This method does have the benefit of binding parameters directly to the underlying prepared statement.</p>
<p>This method uses <a class="el" href="structWt_1_1Dbo_1_1query__result__traits.html" title="Traits class for result types.">query_result_traits</a> to unmarshal the query result into the <code>Result</code> type.</p>
<p>In the <code>sql</code> query, parameters can be bound using '?' as the positional placeholder: each occurence of '?' (as a lexical token) is replaced by a bound parameter. This is actually done by most of the backends themselves using prepared statements and parameter binding. Parameter binding is possible for all types for which <a class="el" href="structWt_1_1Dbo_1_1sql__value__traits.html" title="Traits class for value types.">sql_value_traits</a> is specialized.</p>
<dl class="section note"><dt>Note</dt><dd>PostgreSQL uses a literal question mark ('?') as an operator. To distinguish between a positional placeholder and a literal '?', use a double question mark ('??') if you mean a literal '?'.</dd>
<dd>
The query must be a ASCII-7 string: UTF-8 is not supported by the underlying query parser. To add a non-English string to the query use parameter binding instead (which prevents against SQL injection attacks at the same time) instead of string concatenation. </dd></dl>

</div>
</div>
<a id="add5f4d579b9841072d5e777925acd92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add5f4d579b9841072d5e777925acd92c">&#9670;&nbsp;</a></span>rereadAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::rereadAll </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tableName</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rereads all objects. </p>
<p>This rereads all objects from the database, possibly discarding unflushed modifications. This is a catch-all solution for a <a class="el" href="classWt_1_1Dbo_1_1StaleObjectException.html" title="Exception thrown when Wt::Dbo detects a concurrent modification">StaleObjectException</a>.</p>
<p>If a <code>tableName</code> is given, then only objects of that table are reread.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1ptr.html#abb1db71ef910748437d69bf11a04eb6e" title="Rereads the database version.">ptr::reread()</a> </dd></dl>

</div>
</div>
<a id="acfd45189db138506e6e7c202e39878f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd45189db138506e6e7c202e39878f9">&#9670;&nbsp;</a></span>setConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::setConnection </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classWt_1_1Dbo_1_1SqlConnection.html">SqlConnection</a> &gt;&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a dedicated connection. </p>
<p>The connection will be used exclusively by this session.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#a63ab17e16c9b721c94e6e9f67c5c255d" title="Sets a connection pool.">setConnectionPool()</a> </dd></dl>

</div>
</div>
<a id="a63ab17e16c9b721c94e6e9f67c5c255d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ab17e16c9b721c94e6e9f67c5c255d">&#9670;&nbsp;</a></span>setConnectionPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::setConnectionPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWt_1_1Dbo_1_1SqlConnectionPool.html">SqlConnectionPool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a connection pool. </p>
<p>The connection pool is typically shared with other sessions.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#acfd45189db138506e6e7c202e39878f9" title="Sets a dedicated connection.">setConnection()</a> </dd></dl>

</div>
</div>
<a id="a3074ef6656f9c74409d2e8cade36d4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3074ef6656f9c74409d2e8cade36d4ab">&#9670;&nbsp;</a></span>setFlushMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Wt::Dbo::Session::setFlushMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceWt_1_1Dbo.html#a4c7a7297140823d0c45131edc4d7c616">FlushMode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the flushMode. </p>
<p>The default flushMode is Auto. LabelOption::Inside a transaction this means that changes are flushed when a query is affected by them. When flushMode is set to Manual, changes are only flushed when the user manually calls <a class="el" href="classWt_1_1Dbo_1_1Session.html#ab896d119f1e0fb79adffe2282b92ef17" title="Flushes the session.">flush()</a>, or resets the mode to Auto. <a class="el" href="classWt_1_1Dbo_1_1Query.html" title="A database query.">Query</a>'s wil possibly return an inconsistent result, but collections will still keep track of changes. This also makes it possible to operate on Dbo-objects and collections outside of a transaction. When the moment comes to flush the changes, a transaction must of course be active.</p>
<p><em>Note:</em> only operations on a collecion are tracked in Manual mode, reciproke operations are not yet taken into account.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#aebc34f3a9a0b364024128cb7a8ea3587" title="Returns the flushMode.">flushMode()</a>, <a class="el" href="classWt_1_1Dbo_1_1Session.html#a1c75a1701de8ae978e58f2d1e9cad39b" title="Discards all unflushed changes.">discardUnflushed()</a> </dd></dl>

</div>
</div>
<a id="af058582055c6fb7bbf4738fde3238b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af058582055c6fb7bbf4738fde3238b0b">&#9670;&nbsp;</a></span>tableName()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char * Wt::Dbo::Session::tableName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the mapped table name for a class. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#a22b4750b2665de1381b1fedec7020c75" title="Maps a class to a database table.">mapClass()</a>, <a class="el" href="classWt_1_1Dbo_1_1Session.html#a015315a5b22718eb39662c23dc4c1cd8" title="Returns the mapped quoted table name for a class.">tableNameQuoted()</a> </dd></dl>

</div>
</div>
<a id="a015315a5b22718eb39662c23dc4c1cd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015315a5b22718eb39662c23dc4c1cd8">&#9670;&nbsp;</a></span>tableNameQuoted()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const std::string Wt::Dbo::Session::tableNameQuoted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the mapped quoted table name for a class. </p>
<p>This will quote schemas, as necessary.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classWt_1_1Dbo_1_1Session.html#a22b4750b2665de1381b1fedec7020c75" title="Maps a class to a database table.">mapClass()</a>, <a class="el" href="classWt_1_1Dbo_1_1Session.html#af058582055c6fb7bbf4738fde3238b0b" title="Returns the mapped table name for a class.">tableName()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><address style="text-align: right; margin: 3px"><small>
Generated on Wed Apr 22 2020 for <a href="http://www.webtoolkit.eu/wt">the
C++ Web Toolkit (Wt)</a> by&nbsp;<a
href="http://www.doxygen.org/index.html"><img src="doxygen.png"
alt="doxygen" border="0" style="vertical-align: middle; display:
inline-block; height: 2em"></a> 1.8.15</small></address>
</body>
</html>
